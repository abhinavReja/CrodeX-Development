{% extends "base.html" %}

{% block title %}Download - CrodeX{% endblock %}

{% block content %}
<div class="download-section">
    <h1>Your File is Ready!</h1>
    <p class="section-description">Your file has been processed successfully</p>

    <div class="download-container">
        <div class="download-success">
            <div class="success-icon">âœ…</div>
            <h2>Processing Complete</h2>
            <p>Your file has been converted and is ready for download</p>
        </div>

        <div class="file-details">
            <div class="detail-item">
                <span class="detail-label">Original File:</span>
                <span class="detail-value" id="original-name">{{ original_name }}</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">Processed File:</span>
                <span class="detail-value" id="processed-name">{{ processed_name }}</span>
            </div>
            <div class="detail-item">
                <span class="detail-label">File Size:</span>
                <span class="detail-value" id="file-size">{{ file_size }}</span>
            </div>
        </div>

        <div class="download-actions">
            <a href="{{ url_for('download.download_file', file_id=file_id) }}" class="btn btn-primary btn-large" id="download-btn">
                Download File
            </a>
            <a href="{{ url_for('upload.upload') }}" class="btn btn-secondary">Upload Another File</a>
        </div>

        <div class="share-options">
            <h3>Share Options</h3>
            <div class="share-buttons">
                <button type="button" class="btn btn-outline" id="copy-link-btn">Copy Link</button>
                <button type="button" class="btn btn-outline" id="email-btn">Email</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    const fileId = '{{ file_id }}';
    const downloadUrl = '{{ url_for("download.download_file", file_id=file_id) }}';
</script>
<script src="{{ url_for('static', filename='js/download.js') }}"></script>
{% endblock %}

